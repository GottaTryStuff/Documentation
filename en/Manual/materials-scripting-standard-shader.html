<!DOCTYPE html><html lang="en" class="no-js">
<head>
<meta content="text/html; charset=UTF-8" http-equiv="Content-Type">
<script type="text/javascript" src="https://cdn.cookielaw.org/scripttemplates/otSDKStub.js" charset="UTF-8" data-domain-script="6e91be4c-3145-4ea2-aa64-89d716064836"></script><script type="text/javascript">
					function OptanonWrapper() { }
				</script><script>var offline=(location.href.indexOf('docs.unity3d.com')==-1)?true:false;if(!offline){(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':  new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0], j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=   'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);  })(window,document,'script','dataLayer','GTM-5V25JL6');}</script><link href="https://fonts.googleapis.com/css?family=Roboto&amp;display=swap" rel="stylesheet">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Unity - Manual:  Scripting for materials that use the Standard Shader</title>
<meta property="og:image" content="https://unity3d.com/files/images/ogimg.jpg">
<meta name="author" content="Unity Technologies">
<link rel="shortcut icon" href="https://unity.com/themes/contrib/unity_base/images/favicons/favicon.ico">
<link rel="icon" type="image/png" href="../StaticFilesManual/images/favicons/favicon.png">
<link rel="apple-touch-icon-precomposed" sizes="152x152" href="../StaticFilesManual/images/favicons/apple-touch-icon-152x152.png">
<link rel="apple-touch-icon-precomposed" sizes="144x144" href="../StaticFilesManual/images/favicons/apple-touch-icon-144x144.png">
<link rel="apple-touch-icon-precomposed" sizes="120x120" href="../StaticFilesManual/images/favicons/apple-touch-icon-120x120.png">
<link rel="apple-touch-icon-precomposed" sizes="114x114" href="../StaticFilesManual/images/favicons/apple-touch-icon-114x114.png">
<link rel="apple-touch-icon-precomposed" sizes="72x72" href="../StaticFilesManual/images/favicons/apple-touch-icon-72x72.png">
<link rel="apple-touch-icon-precomposed" href="../StaticFilesManual/images/favicons/apple-touch-icon.png">
<meta name="msapplication-TileColor" content="#222c37">
<meta name="msapplication-TileImage" content="../StaticFilesManual/images/favicons/tileicon-144x144.png">
<script type="text/javascript" src="https://docs.unity3d.com/StaticFilesConfig/UnityVersionsInfo.js"></script><script type="text/javascript" src="../StaticFilesManual/js/jquery.js?ts=1609815866"></script><script type="text/javascript" src="../StaticFilesManual/js/core.js?ts=1609815866"></script><script type="text/javascript" src="docdata/toc.js?ts=1609815866"></script><script type="text/javascript" src="docdata/global_toc.js?ts=1609815866"></script><link rel="stylesheet" type="text/css" href="../StaticFilesManual/css/core.css?ts=1609815866">
<link rel="stylesheet" href="../StaticFilesManual/css/prism.css">
<script src="../StaticFilesManual/js/prism.js"></script><script src="/StaticFilesConfig/feedback/feedback.js"></script><script src="../StaticFilesManual/js/jquery.sidebar.min.js"></script><link rel="stylesheet" href="../StaticFilesManual/css/mobileoptimisation.css">
<script src="../StaticFilesManual/js/mobileoptimisation.js"></script>
</head>
<body>
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-5V25JL6" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<div id="DocsAnalyticsData" data-area="none" data-pagetype="manual"></div>
<div class="header-wrapper">
<div id="header" class="header"><div class="content">
<div class="spacer"><div class="menu">
<div id="nav-open" for="nav-input"><span></span></div>
<div class="logo"><a href="https://docs.unity3d.com"></a></div>
<div class="search-form"><form action="30_search.html" method="get" class="apisearch">
<input type="text" name="q" placeholder="Search manual..." autosave="Unity Reference" results="5" class="sbox field" id="q"><input type="submit" class="submit">
</form></div>
<ul>
<li><a href="../Manual/index.html" class="selected">Manual</a></li>
<li><a href="../ScriptReference/index.html">Scripting API</a></li>
</ul>
</div></div>
<div class="more">
<div class="filler"></div>
<ul><li><a href="https://unity.com/">unity3d.com</a></li></ul>
</div>
</div></div>
<div class="toolbar"><div class="content">
<div class="toggle version-number" id="VersionNumber" data-target=".otherversionscontent">
                                Version: <b>2019.4</b><div class="otherversionscontent" id="OtherVersionsContent" style="display: none;">
<ul id="OtherVersionsContentUl"></ul>
<div id="otherVersionsLegend"><ul>
<li>
<div id="supportedColour" class="legendBox"></div>Supported</li>
<li>
<div id="notFoundColour" class="legendBox"></div>Legacy</li>
</ul></div>
</div>
<div id="VersionSwitcherArrow" class="arrow versionSwitcherArrow"></div>
</div>
<div class="lang-switcher"><div class="current toggle" data-target=".lang-list">
<div class="lbl">Language
:                <span class="b">English</span>
</div>
<div class="arrow"></div>
<div class="lang-list" style="display:none;"><ul>
<li><a href="/Manual/materials-scripting-standard-shader.html">English</a></li>
<li><a href="/cn/current/Manual/materials-scripting-standard-shader.html">中文</a></li>
<li><a href="/ja/current/Manual/materials-scripting-standard-shader.html">日本語</a></li>
<li><a href="/es/current/Manual/materials-scripting-standard-shader.html">Español</a></li>
<li><a href="/kr/current/Manual/materials-scripting-standard-shader.html">한국어</a></li>
<li><a href="/ru/current/Manual/materials-scripting-standard-shader.html">Русский</a></li>
</ul></div>
</div></div>
</div></div>
<div class="mobileLogo"><a href="https://docs.unity3d.com"></a></div>
</div>
<div id="master-wrapper" class="master-wrapper clear">
<div id="sidebar" class="sidebar"><div class="sidebar-wrap"><div class="content"><div class="sidebar-menu"><div class="toc" id="customScrollbar">
<h2>Unity Manual</h2>
<div class="search-form sidebar-search-form"><form action="30_search.html" method="get" class="apisearch">
<input type="text" name="q" placeholder="Search manual..." autosave="Unity Reference" results="5" class="sbox field" id="q"><input type="submit" id="mobileSearchBtn" class="submit" value="Search">
</form></div>
<div class="toggle version-number sidebar-version-switcher" id="VersionNumber" data-target=".otherversionscontent"><form id="otherVersionsContentMobileForm"><div class="ui-field-contain">
<label for="select-native-4">Version: 2019.4</label><select name="select-native-4" id="versionsSelectMobile"><option>Select a different version</option>
<optgroup id="versionsWithThisPageMobile" label="Versions with this page"></optgroup>
<optgroup id="versionsWithoutThisPageMobile" label="Versions without this page"></optgroup></select>
</div></form></div>
<div class="lang-switcher"><div class="current toggle" data-target=".lang-list">
<div class="lbl">Language
:                <span class="b">English</span>
</div>
<div class="arrow"></div>
<div class="lang-list" style="display:none;"><ul>
<li><a href="/Manual/materials-scripting-standard-shader.html">English</a></li>
<li><a href="/cn/current/Manual/materials-scripting-standard-shader.html">中文</a></li>
<li><a href="/ja/current/Manual/materials-scripting-standard-shader.html">日本語</a></li>
<li><a href="/es/current/Manual/materials-scripting-standard-shader.html">Español</a></li>
<li><a href="/kr/current/Manual/materials-scripting-standard-shader.html">한국어</a></li>
<li><a href="/ru/current/Manual/materials-scripting-standard-shader.html">Русский</a></li>
</ul></div>
</div></div>
</div></div></div></div></div>
<div id="content-wrap" class="content-wrap"><div class="content-block"><div class="content">
<div class="section">
<div class="breadcrumbs clear"><ul>
<li><a href="UnityManual.html"> Unity User Manual (2019.4 LTS)</a></li>
<li><a href="Graphics.html">Graphics</a></li>
<li><a href="Shaders.html">Meshes, Materials, Shaders and Textures</a></li>
<li><a href="Materials.html"> Materials</a></li>
<li> Scripting for materials that use the Standard Shader</li>
</ul></div>
<div class="mb20"><div class="nextprev clear">
<div class="icon tt left mr1" data-distance="-40|-30|top">
<span class="prev"><a href="MaterialsAccessingViaScript.html"></a></span><div class="tip"> Using materials with C# scripts</div>
</div>
<div class="icon tt right" data-distance="-40|-30|top">
<span class="next"><a href="MaterialValidator.html"></a></span><div class="tip"> Physically Based Rendering Material Validator</div>
</div>
</div></div>
<div id="_leavefeedback"></div>
<h1>Scripting for materials that use the Standard Shader</h1>
<!--BeginSwitchLink--><!--EndSwitchLink-->
<div class="clear"></div>

<p>In the Built-in Render Pipeline, the <span class="tooltip"><strong>Standard Shader</strong><span class="tooltiptext">A built-in shader for rendering real-world objects such as stone, wood, glass, plastic and metal. Supports a wide range of shader types and combinations. <a class="tooltipMoreInfoLink" href="shader-StandardShader.html">More info</a><br/><span class="tooltipGlossaryLink">See in <a href="Glossary.html#StandardShader">Glossary</a></span></span></span> has some extra requirements if you want to modify materials at runtime.</p>

<p>This is because - behind the <span class="tooltip"><strong>scenes</strong><span class="tooltiptext">A Scene contains the environments and menus of your game. Think of each unique Scene file as a unique level. In each Scene, you place your environments, obstacles, and decorations, essentially designing and building your game in pieces. <a class="tooltipMoreInfoLink" href="CreatingScenes.html">More info</a><br/><span class="tooltipGlossaryLink">See in <a class="tooltipMoreInfoLink" href="Glossary.html#Scene">Glossary</a></span></span></span> - the Standard Shader is actually many different <span class="tooltip"><strong>shaders</strong><span class="tooltiptext">A small script that contains the mathematical calculations and algorithms for calculating the Color of each pixel rendered, based on the lighting input and the Material configuration. <a href="Shaders.html">More info</a><br/><span class="tooltipGlossaryLink">See in <a class="tooltipMoreInfoLink" href="Glossary.html#Shader">Glossary</a></span></span></span> rolled into one. These different types of shader are called <span class="tooltip"><a href="SL-MultipleProgramVariants.html">Shader Variants</a><span class="tooltiptext">An internal version of the Shader that Unity generates according to the specific combination of Shader keywords and their status. If you add more keywords to the Shader, you increase the number of possible combinations, which results in more Shader Variants. <a href="SL-MultipleProgramVariants.html">More info</a><br/><span class="tooltipGlossaryLink">See in <a href="Glossary.html#ShaderVariant">Glossary</a></span></span></span> and can be thought of as all the different possible combinations of the shader’s features, when activated or not activated.</p>

<p>For example, if you choose to assign a <span class="tooltip"><a class="tooltipMoreInfoLink" href="StandardShaderMaterialParameterNormalMap.html">Normal Map</a><span class="tooltiptext">A type of Bump Map texture that allows you to add surface detail such as bumps, grooves, and scratches to a model which catch the light as if they are represented by real geometry. <a href="StandardShaderMaterialParameterNormalMap.html">More info</a><br/><span class="tooltipGlossaryLink">See in <a href="Glossary.html#Normalmap">Glossary</a></span></span></span> to your material, you activate that <em>variant</em> of the shader which supports Normal Mapping. If you subsequently also assign a <a href="StandardShaderMaterialParameterHeightMap.html">Height Map</a> then you activate the variant of the shader which supports Normal Mapping and Height Mapping.</p>

<p>This is a good system, because it means that if you use the Standard Shader, but do not use a Normal Map in a certain material, you are not incurring the performance cost of running the Normal Map shader code - because you are running a variant of the shader with that code omitted. It also means that if you never use a certain feature combination (such as HeightMap &amp; Emissive together), that variant is completely omitted from your build - and in practice you will typically only use a very small number of the possible variants of the Standard Shader.</p>

<p>Unity avoids simply including every possible shader variant in your build, because this would be a very large number, some tens of thousands! This high number is a result not only of each possible combination of features available in the material <span class="tooltip"><strong>Inspector</strong><span class="tooltiptext">A Unity window that displays information about the currently selected GameObject, asset or project settings, alowing you to inspect and edit the values. <a class="tooltipMoreInfoLink" href="UsingTheInspector.html">More info</a><br/><span class="tooltipGlossaryLink">See in <a class="tooltipMoreInfoLink" href="Glossary.html#Inspector">Glossary</a></span></span></span>, but also there are variants of each feature combination for differing <span class="tooltip"><strong>rendering</strong><span class="tooltiptext">The process of drawing graphics to the screen (or to a render texture). By default, the main camera in Unity renders its view to the screen. <a href="GraphicsOverview.html">More info</a><br/><span class="tooltipGlossaryLink">See in <a class="tooltipMoreInfoLink" href="Glossary.html#Rendering">Glossary</a></span></span></span> scenarios such as whether or not <span class="tooltip"><strong>HDR</strong><span class="tooltiptext">high dynamic range<br/><span class="tooltipGlossaryLink">See in <a href="Glossary.html#HDR">Glossary</a></span></span></span> is being used, <span class="tooltip"><strong>lightmaps</strong><span class="tooltiptext">A pre-rendered texture that contains the effects of light sources on static objects in the scene. Lightmaps are overlaid on top of scene geometry to create the effect of lighting. <a href="Lightmapping.html">More info</a><br/><span class="tooltipGlossaryLink">See in <a href="Glossary.html#Lightmap">Glossary</a></span></span></span>, GI, fog, etc. Including all of these would cause slow loading, high memory consumption, and increase your build size and build time.</p>

<p>Instead, Unity tracks which variants you’ve used by examining the material assets used in your project. Whichever variants of the Standard Shader you have included in your project, those are the variants which are included in the build.</p>

<p>This presents two separate problems when accessing materials via script that use the Standard Shader.</p>

<h3>1. You must enable the correct Keywords for your required Standard Shader variant</h3>

<p>If you use scripting to change a material that would cause it to use a different variant of the Standard Shader, you must <strong>enable that variant by using the <a href="../ScriptReference/Material.EnableKeyword.html">EnableKeyword</a> function</strong>. A different variant would be required if you start using a shader feature that was not initially in use by the material. For example assigning a Normal Map to a Material that did not have one, or setting the Emissive level to a value greater than zero, when it was previously zero.</p>

<p>The specific Keywords required to enable the Standard Shader features are as follows:</p>

<table>
<colgroup>
<col style="text-align:left;">
<col style="text-align:left;">
</colgroup>

<thead>
<tr>
	<th style="text-align:left;">Keyword</th>
	<th style="text-align:left;">Feature</th>
</tr>
</thead>

<tbody>
<tr>
	<td style="text-align:left;">_NORMALMAP</td>
	<td style="text-align:left;"><a href="StandardShaderMaterialParameterNormalMap.html">Normal Mapping</a></td>
</tr>
<tr>
	<td style="text-align:left;">_ALPHATEST_ON</td>
	<td style="text-align:left;">
<a class="tooltipMoreInfoLink" href="StandardShaderMaterialParameterRenderingMode.html">“Cut out” Transparency</a> <span class="tooltip"><strong>Rendering Mode</strong><span class="tooltiptext">A Standard Shader Material parameter that allows you to choose whether the object uses transparency, and if so, which type of blending mode to use. <a href="StandardShaderMaterialParameterRenderingMode.html">More info</a><br/><span class="tooltipGlossaryLink">See in <a href="Glossary.html#RenderingMode">Glossary</a></span></span></span></td>
</tr>
<tr>
	<td style="text-align:left;">_ALPHABLEND_ON</td>
	<td style="text-align:left;">
<a href="StandardShaderMaterialParameterRenderingMode.html">“Fade” Transparency</a> Rendering Mode</td>
</tr>
<tr>
	<td style="text-align:left;">_ALPHAPREMULTIPLY_ON</td>
	<td style="text-align:left;">
<a href="StandardShaderMaterialParameterRenderingMode.html">“Transparent” Transparency</a> Rendering Mode</td>
</tr>
<tr>
	<td style="text-align:left;">_EMISSION</td>
	<td style="text-align:left;">
<a href="StandardShaderMaterialParameterEmission.html">Emission Colour</a> or <a href="StandardShaderMaterialParameterEmission.html">Emission Mapping</a>
</td>
</tr>
<tr>
	<td style="text-align:left;">_PARALLAXMAP</td>
	<td style="text-align:left;"><a href="StandardShaderMaterialParameterHeightMap.html">Height Mapping</a></td>
</tr>
<tr>
	<td style="text-align:left;">_DETAIL_MULX2</td>
	<td style="text-align:left;">
<a href="StandardShaderMaterialParameterDetail.html">Secondary “Detail” Maps</a> (Albedo &amp; Normal Map)</td>
</tr>
<tr>
	<td style="text-align:left;">_METALLICGLOSSMAP</td>
	<td style="text-align:left;">
<a href="StandardShaderMaterialParameterMetallic.html">Metallic/Smoothness Mapping</a> in Metallic Workflow</td>
</tr>
<tr>
	<td style="text-align:left;">_SPECGLOSSMAP</td>
	<td style="text-align:left;">
<a href="StandardShaderMaterialParameterSpecular.html">Specular/Smoothness Mapping</a> in Specular Workflow</td>
</tr>
</tbody>
</table>

<p>Using the keywords above is enough to get your scripted Material modifications working while running in the editor.</p>

<p>However, because Unity only checks for Materials used in your project to determine which variants to include in your build, it will not include variants that are <em>only</em> encountered via script at runtime.</p>

<p>This means if you enable the _PARALLAXMAP keyword for a Material in your script, but you do not have a Material used in your project matching that same feature combination, the parallax mapping will not work in your final build - even though it appears to work in the editor. This is because that variant will have been omitted from the build because it seemed to not be required.</p>

<h3>2. You must make sure Unity includes your required shader variants in the build</h3>

<p>To do this, you need to make sure Unity knows that you want to use that shader variant by including at least one Material of that type in your Assets. The material <strong>must be used in a scene</strong> or alternatively be placed in your <a href="LoadingResourcesatRuntime.html">Resources Folder</a> - otherwise Unity will still omit it from your build, because it appeared unused.</p>

<p>By completing both of the above steps, you have the full ability to modify your Materials using the Standard Shader at runtime.</p>

<p>If you are interested in learning more about the details of shader variants, and how to write your own, read about <a href="SL-MultipleProgramVariants.html">Making multiple shader program variants here</a>.</p>
<div id="_content"></div>
<div class="nextprev clear">
<div class="icon tt left mr1" data-distance="-40|-30|top">
<span class="prev"><a href="MaterialsAccessingViaScript.html"></a></span><div class="tip"> Using materials with C# scripts</div>
</div>
<div class="icon tt right" data-distance="-40|-30|top">
<span class="next"><a href="MaterialValidator.html"></a></span><div class="tip"> Physically Based Rendering Material Validator</div>
</div>
</div>
</div>
<div class="footer-wrapper"><div class="footer clear">
<div class="copy">Copyright © 2020 Unity Technologies. Publication Date: 2021-01-05.</div>
<div class="menu">
<a href="https://learn.unity.com/">Tutorials</a><a href="https://answers.unity3d.com">Community Answers</a><a href="https://support.unity3d.com/hc/en-us">Knowledge Base</a><a href="https://forum.unity3d.com">Forums</a><a href="https://unity3d.com/asset-store">Asset Store</a>
</div>
</div></div>
</div></div></div>
</div>
</body>
</html>
